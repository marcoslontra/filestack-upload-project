<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload de Arquivos - Filestack</title>
    <script src="https://static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
</head>
<body>
    <h1>Selecione seus arquivos para upload</h1>
    
    <!-- Botão para abrir o File Picker -->
    <button id="uploadButton">Escolher Arquivos</button>
    
    <!-- Exibição de resultados -->
    <div id="result"></div>

    <script>
        // Inicializa o cliente Filestack com a chave da API
        const client = filestack.init('ApgANrOfTOWJBXY2mERX1z'); // Sua chave Filestack

        // Opções de configuração do File Picker
        const options = {
            onUploadDone: (response) => {
                console.log('Arquivos carregados com sucesso:', response);
                // Exibe a URL do arquivo carregado
                const fileUrl = response.filesUploaded[0].url;
                document.getElementById('result').innerHTML = `
                    <p style="color: green;">Arquivo enviado com sucesso!</p>
                    <p>URL do arquivo: <a href="${fileUrl}" target="_blank">Visualizar Arquivo</a></p>
                `;
            },
            onUploadError: (error) => {
                console.error('Erro ao carregar arquivos:', error);
                document.getElementById('result').innerHTML = `<p style="color: red;">Erro ao enviar o arquivo: ${error.message}</p>`;
            }
        };

        // Configura o evento do botão para abrir o File Picker
        document.getElementById('uploadButton').addEventListener('click', () => {
            try {
                client.picker(options).open();
            } catch (error) {
                console.error("Erro ao abrir o picker:", error);
            }
        });
    </script>
</body>
</html>
