const client = filestack.init('ApgANrOfTOWJBXY2mERX1z'); // Sua chave de API do Filestack

document.getElementById('upload-form').addEventListener('submit', (event) => {
    event.preventDefault(); // Impede o envio padrão do formulário

    // Enviar arquivos ao Filestack
    const files = [
        'documento-analise',
        'cpf-rg',
        'estado-civil',
        'certidao-nascimento',
        'comprovante-endereco',
        'comprovante-renda',
        'declaracao-imposto',
        'carteira-trabalho',
        'extrato-fgts'
    ];

    const uploadedFiles = [];

    files.forEach(fileId => {
        const fileInput = document.getElementById(fileId);
        const file = fileInput.files[0];
        
        if (file) {
            client.upload(file).then(result => {
                uploadedFiles.push(result);
                console.log(`Arquivo ${fileId} enviado com sucesso:`, result);
            }).catch(error => {
                console.error(`Erro ao enviar o arquivo ${fileId}:`, error);
            });
        }
    });

    // Coletar as informações do formulário
    const nome = document.getElementById('nome').value;
    const telefone = document.getElementById('telefone').value;
    const dataNascimento = document.getElementById('data-nascimento').value;
    const estadoCivil = document.getElementById('estado-civil').value;
    const possuiFilhos = document.getElementById('possui-filhos').value;
    const rendaBruta = document.getElementById('renda-bruta').value;
    const possuiImovel = document.getElementById('possui-imovel').value;
    const anosTrabalho = document.getElementById('anos-trabalho').value;

    // Aqui você pode enviar as informações pessoais e os arquivos para o backend
    console.log({
        nome,
        telefone,
        dataNascimento,
        estadoCivil,
        possuiFilhos,
        rendaBruta,
        possuiImovel,
        anosTrabalho,
        uploadedFiles
    });

    alert('Formulário enviado com sucesso!');
});
